<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.neighborCabinet.project.dao.IBoxOrderDAO_y">
	<select id="type_AList" resultType="com.neighborCabinet.project.model.BoxInfoVO_y">
		SELECT boxStock, boxPrice, boxName, boxSize, boxType FROM boxInfo WHERE boxType LIKE 'A%' ORDER BY boxNo
	</select>
	<select id="type_BList" resultType="com.neighborCabinet.project.model.BoxInfoVO_y">
		SELECT boxStock, boxPrice, boxName, boxSize, boxType FROM boxInfo WHERE boxType LIKE 'B%' ORDER BY boxNo
	</select>
	<select id="shippingInfo" parameterType="string" resultType="com.neighborCabinet.project.model.ShippingVO_y">
		SELECT userId , userName, userHP, userZipcode, userAddress1, userAddress2
		FROM member
		WHERE userId=#{userId}
	</select>
	<insert id="insert_OrdList" parameterType="com.neighborCabinet.project.model.ShippingVO_y">
		INSERT INTO orderList (ordNo, shipName, shipAddress1, shipAddress2,
								shipPhone, shipHope, ordStatus,
								userId, totalPrice)
		VALUES (#{ordNo}, #{shipName}, #{shipAddress1}, #{shipAddress2},
				#{shipPhone}, #{shipHope}, 1,
				#{userId}, #{totalPrice})
	</insert>
	<insert id="insert_OrdDetail" parameterType="com.neighborCabinet.project.model.ShippingVO_y">
		INSERT INTO orderDetail (ordNo, boxType, boxQty, selPrice)
		VALUES (#{ordNo}, #{boxType}, #{boxQty}, #{selPrice})
	</insert>
	<select id="reserInfo" parameterType="string" resultType="com.neighborCabinet.project.model.MemberVO">
		SELECT userName, userNickname, userHp, userEmail
		FROM member
		WHERE userId=#{userId}
	</select>
</mapper>